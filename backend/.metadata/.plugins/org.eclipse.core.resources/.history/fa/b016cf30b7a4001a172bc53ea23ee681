package repository;

import java.time.LocalDate;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Modifying;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

import model.CourseDetails;

public interface CourseRepository extends JpaRepository<CourseDetails, Integer> {
	@Modifying(clearAutomatically = true)
    @Query("UPDATE course_details c "
    		+ "SET c.course_title = :courseTitle, c.course_description = :courseDescription, "
    		+ "c.skills_acquired = :skillsAcquired, c.last_updated = :lastUpdated "
    		+ "WHERE c.course_id = :courseId")
    int updateCourse(@Param("courseId") int courseId, 
    		@Param("courseTitle") String courseTitle,
    		@Param("courseDescription") String courseDescription,
    		@Param("skillsAcquired") String skillsAcquired,
    		@Param("lastUpdated") LocalDate lastUpdated);
	
	public CourseDetails findByCourseTitle(String courseTitle);
}
